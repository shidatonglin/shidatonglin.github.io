---
layout: fasle
categories: mysql
tags: mysql
---

<!DOCTYPE html>
<!-- saved from url=(0034)http://zetcode.com/python/pymysql/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>PyMySQL tutorial - Python MySQL programming with PyMySQL module</title>

<link rel="stylesheet" href="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/format3.css" type="text/css">

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="keywords" content="Python, PyMySQL, MySQL, database, programming">
<meta name="description" content="PyMySQL tutorial shows how to program
MySQL in Python with PyMySQL module. PyMySQL examples connect to MySQL 
and execute SQL statements.">
<meta name="author" content="Jan Bodnar">

<script src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/osd.js.download"></script><script src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/ca-pub-9706709751191532.js.download"></script><script src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/sdk.js.download" async="" crossorigin="anonymous"></script><script id="facebook-jssdk" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/sdk.js(1).download"></script><script id="twitter-wjs" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/widgets.js.download"></script><script async="" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/analytics.js.download"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5536206-1', 'auto');
  ga('send', 'pageview');

</script>

<script charset="utf-8" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/button.509719336ca39171c37a321231ccaf83.js.download"></script><link rel="preload" href="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/f(4).txt" as="script"><script type="text/javascript" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/f(4).txt"></script><link rel="preload" href="http://pagead2.googlesyndication.com/pagead/js/r20190528/r20190131/show_ads_impl.js" as="script"><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#1d3c78;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}</style></head>

<body>

<div class="container">

<div id="wide_ad" class="rtow" style="margin: 0px; padding: 0px; border-width: 0px;">
<script async="" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/f(5).txt"></script>
<!-- 160x600, August 2011 -->
<ins class="adsbygoogle" style="display: inline-block; width: 0px; height: 0px;" data-ad-client="ca-pub-9706709751191532" data-ad-slot="2484182563" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 0px; background-color: transparent;"><ins id="aswift_0_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 0px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="160" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0px;width:160px;height:600px;" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/saved_resource(2).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div id="ebooks" class="ltow">
    
<h2>Ebooks</h2>

<ul>
<li><a href="http://zetcode.com/ebooks/advancedpyqt5/">PyQt5 ebook</a></li>
<li><a href="http://zetcode.com/ebooks/tkinter/">Tkinter ebook</a></li>
<li><a href="http://zetcode.com/ebooks/sqlitepython/">SQLite Python</a></li>
<li><a href="http://zetcode.com/ebooks/advancedwxpython/">wxPython ebook</a></li>
<li><a href="http://zetcode.com/ebooks/windowsapi/">Windows API ebook</a></li>
<li><a href="http://zetcode.com/ebooks/advancedjavaswing/">Java Swing ebook</a></li>
<li><a href="http://zetcode.com/ebooks/mysqljava/">MySQL Java ebook</a></li>
</ul>

</div>

<div class="content">

<header>
 
<nav>
<a href="http://zetcode.com/" title="Home">Home</a>
<a class="nav_r" title="Subscribe to ZetCode news" href="http://zetcode.us13.list-manage.com/subscribe?u=9def9ccd4c70dbbaf691f90fc&amp;id=6556210f80">Subscribe</a>
</nav>

</header>


<h1>PyMySQL tutorial</h1>

<p>
PyMySQL tutorial shows how to program MySQL in Python with PyMySQL module.
</p>

<div class="social">

<div class="fb-like fb_iframe_widget" data-href="http://zetcode.com/python/pymysql/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true" fb-xfbml-state="rendered" fb-iframe-plugin-query="action=like&amp;app_id=&amp;container_width=705&amp;href=http%3A%2F%2Fzetcode.com%2Fpython%2Fpymysql%2F&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey&amp;share=true&amp;show_faces=true"><span style="vertical-align: bottom; width: 112px; height: 20px;"><iframe name="fbefc0f2f777b4" width="1000px" height="1000px" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" title="fb:like Facebook Social Plugin" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/like.html" style="border: none; visibility: visible; width: 112px; height: 20px;" class=""></iframe></span></div>

<div class="twitter">
<iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" class="twitter-share-button twitter-share-button-rendered twitter-tweet-button" style="position: static; visibility: visible; width: 61px; height: 20px;" title="Twitter Tweet Button" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/tweet_button.bb9f4b065c53172f0378057aff0cb3f7.en.html"></iframe>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id))
{js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>

</div>

<h2>PyMySQL</h2>

<p>
<em>PyMySQL</em> is a pure-Python MySQL client library, 
based on PEP 249. Most public APIs are compatible with mysqlclient 
and MySQLdb. PyMySQL works with MySQL 5.5+ and MariaDB 5.5+.
</p>

<div class="resp">
<script async="" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/f(5).txt"></script>
<!-- res_horizontal -->
<ins class="adsbygoogle" style="display: block; height: 60px;" data-ad-client="ca-pub-9706709751191532" data-ad-slot="3306387063" data-ad-format="auto" data-full-width-responsive="true" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:705px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:705px;background-color:transparent;"><iframe width="705" height="60" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0px;width:705px;height:60px;" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/saved_resource(3).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<p>
MySQL is a leading open source database management system. It is a 
multiuser, multithreaded database management system. MySQL is especially 
popular on the web. 
</p>


<h2>PyMySQL installation</h2>

<pre>$ sudo pip3 install PyMySQL
</pre>

<p>
We use the <code>pip3</code> tool to install PyMySQL.
</p>


<h2>PyMySQL version example</h2>

<p>
In the following example, we get the version of MySQL. 
</p>

<div class="codehead">version.py</div>
<pre class="code">#!/usr/bin/python3
# -*- coding: utf-8 -*-

import pymysql

con = pymysql.connect('localhost', 'user17', 
    's$cret', 'mydb')

with con:
    
    cur = con.cursor()
    cur.execute("SELECT VERSION()")

    version = cur.fetchone()
    
    print("Database version: {}".format(version[0]))
</pre>

<p>
In MySQL, we can use <code>SELECT VERSION()</code> to get the version
of MySQL.
</p>

<pre class="explanation">import pymysql
</pre>

<p>
We import the <code>pymysql</code> module.
</p>

<pre class="explanation">con = pymysql.connect('localhost', 'user17', 
    's$cret', 'mydb')
</pre>

<p>
We connect to the database with <code>connect()</code>. We pass four 
parameters: the hostname, the MySQL user name, the password, and the 
database name. 
</p>

<pre class="explanation">with con:
</pre>

<p>
With the <code>with</code> keyword, the Python interpreter automatically 
releases the resources. It also provides error handling. 
</p>

<pre class="explanation">cur = con.cursor()
</pre>

<p>
From the connection object, we create a cursor. The cursor is used to 
traverse the records from the result set. 
</p>

<pre class="explanation">cur.execute("SELECT VERSION()")
</pre>

<p>
We call the <code>execute()</code> method of the cursor and execute the SQL statement. 
</p>

<pre class="explanation">version = cur.fetchone()
</pre>

<p>
The <code>fetchone()</code> method fetches the next row of a query 
result set, returning a single sequence, or <code>None</code> when no 
more data is available.
</p>

<pre class="explanation">print("Database version: {}".format(version[0]))
</pre>

<p>
We print the version of the database.
</p>

<pre class="compact">$ ./version.py 
Database version: 5.7.23-0ubuntu0.16.04.1
</pre>

<p>
This is the output.
</p>


<h2>PyMySQL fetchAll</h2>

<p>
The <code>fetchAll()</code> method retrieves all (remaining) rows of a 
query result, returning them as a sequence of sequences.
</p>

<div class="codehead">retrieve_all.py</div>
<pre class="code">#!/usr/bin/python3
# -*- coding: utf-8 -*-

import pymysql

con = pymysql.connect('localhost', 'user17', 
    's$cret', 'testdb')

with con: 

    cur = con.cursor()
    cur.execute("SELECT * FROM cities")

    rows = cur.fetchall()

    for row in rows:
        print("{0} {1} {2}".format(row[0], row[1], row[2]))
</pre>

<p>
In the example, we retrieve all cities from the database table.
</p>

<pre class="explanation">cur.execute("SELECT * FROM cities")
</pre>

<p>
This SQL statement selects all data from the cities table. 
</p>

<pre class="explanation">rows = cur.fetchall()
</pre>

<p>
The <code>fetchall()</code> method gets all records. It returns a 
result set. Technically, it is a tuple of tuples. Each of the inner 
tuples represent a row in the table. 
</p>

<pre class="explanation">    
for row in rows:
    print("{0} {1} {2}".format(row[0], row[1], row[2]))
</pre>

<p>
We print the data to the console, row by row. 
</p>

<pre class="compact">$ ./retrieve_all.py 
1 Bratislava 432000
2 Budapest 1759000
3 Prague 1280000
4 Warsaw 1748000
5 Los Angeles 3971000
6 New York 8550000
7 Edinburgh 464000
8 Berlin 3671000
</pre>

<p>
This is the output.
</p>


<h2>PyMySQL dictionary cursor</h2>

<p>
The default cursor returns the data in a tuple of tuples. When we use 
a dictionary cursor, the data is sent in a form of Python dictionaries. 
This way we can refer to the data by their column names. 
</p>


<div class="codehead">dictionary_cursor.py</div>
<pre class="code">#!/usr/bin/python3
# -*- coding: utf-8 -*-

import pymysql
import pymysql.cursors

con = pymysql.connect(host='localhost',
        user='user17',
        password='s$cret',
        db='mydb',
        charset='utf8mb4',
        cursorclass=pymysql.cursors.DictCursor)

with con:

    cur = con.cursor()
    cur.execute("SELECT * FROM cities")

    rows = cur.fetchall()

    for row in rows:
        print(row["id"], row["name"])
</pre>

<p>
In this example, we get the first rows of the cities table using the 
dictionary cursor.
</p>

<pre class="explanation">con = pymysql.connect(host='localhost',
        user='user17',
        password='s$cret',
        db='mydb',
        charset='utf8mb4',
        cursorclass=pymysql.cursors.DictCursor)
</pre>

<p>
In the <code>connect()</code> method, we pass the 
<code>pymysql.cursors.DictCursor</code> value to the 
<code>cursorclass</code> parameter.
</p>

<pre class="explanation">for row in rows:
    print(row["id"], row["name"])
</pre>

<p>
We refer to the data by column names of the cities table. 
</p>


<h2>PyMySQL column headers</h2>

<p>
Next we will show how to print column headers with the data from 
the database table. 
</p>

<div class="codehead">column_headers.py</div>
<pre class="code">#!/usr/bin/python3
# -*- coding: utf-8 -*-

import pymysql

con = pymysql.connect('localhost', 'user17', 
    's$cret', 'testdb')

with con:

    cur = con.cursor()
    cur.execute("SELECT * FROM cities")

    rows = cur.fetchall()

    desc = cur.description

    print("{0:&gt;3} {1:&gt;10}".format(desc[0][0], desc[1][0]))

    for row in rows:    
        print("{0:3} {1:&gt;10}".format(row[0], row[2]))
</pre>

<p>
The column names are considered to be the metadata. They are 
obtained from the cursor object. 
</p>

<pre class="explanation">desc = cur.description
</pre>

<p>
The <code>description</code> attribute of the cursor returns information about
each of the result columns of a query. 
</p>

<pre class="explanation">print("{0:&gt;3} {1:&gt;10}".format(desc[0][0], desc[1][0]))
</pre>

<p>
Here we print and format the table column names. 
</p>

<pre class="explanation">    
for row in rows:    
    print("{0:3} {1:&gt;10}".format(row[0], row[2]))
</pre>

<p>
We traverse and print the data.
</p>

<pre class="compact">$ ./column_headers.py 
 id       name
  1     432000
  2    1759000
  3    1280000
  4    1748000
  5    3971000
  6    8550000
  7     464000
  8    3671000
</pre>

<p>
This is the output.
</p>


<h2>PyMySQL prepared statements</h2>

<p>
When we write prepared statements, we use placeholders instead of 
directly writing the values into the statements. Prepared statements 
increase security and performance. 
</p>

<div class="codehead">prepared_statement.py</div>
<pre class="code">#!/usr/bin/python3
# -*- coding: utf-8 -*-

import pymysql

con = pymysql.connect('localhost', 'user17', 
    's$cret', 'testdb')

# user input
myid = 4

with con:    

    cur = con.cursor()
        
    cur.execute("SELECT * FROM cities WHERE id=%s", myid) 
    
    cid, name, population  = cur.fetchone()
    print(cid, name, population)
</pre>

<p>
In the example, we get the row with the specified Id.
</p>

<pre class="explanation">cur.execute("SELECT * FROM cities WHERE id=%s", myid) 
</pre>

<p>
We use a placeholder identified by the <code>%s</code> marker. 
Before the SQL statement is executed, the values are bound to their 
placeholders. 
</p>

<pre class="compact">$ ./prepared_statement.py 
4 Warsaw 1748000
</pre>

<p>
This is the output.
</p>


<h2>PyMySQL affected rows</h2>

<p>
The <code>rowcount</code> is a read-only cursor attribute which specifies the 
number of rows that was produced by the the last  SELECT, UPDATE, or 
INSERT statement.
</p>

<div class="codehead">affected_rows.py</div>
<pre class="code">#!/usr/bin/python3
# -*- coding: utf-8 -*-

import pymysql

con = pymysql.connect('localhost', 'user17',
   's$cret', 'mydb')

with con:

    cur = con.cursor()
    cur.execute("SELECT * FROM cities WHERE id IN (1, 2, 3)")

    # rows = cur.fetchall()

    # for row in rows:
    #     print("{0} {1} {2}".format(row[0], row[1], row[2]))

    print("The query affected {} rows".format(cur.rowcount))
</pre>

<p>
In the example, we have a SELECT statement that selects three rows.
</p>

<pre class="explanation">print("The query affected {} rows".format(cur.rowcount))
</pre>

<p>
We build a message that shows the number of affected rows.
</p>

<pre class="compact">$ ./affected_rows.py 
The query affected 3 rows
</pre>

<p>
This is the output.
</p>


<!-- 
TODO images, transactions
-->

<p>
In this tutorial, we have have been programming MySQL database in Python
with PyMySQL module.
</p>

<div class="big_hor">
<script async="" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/f(5).txt"></script>
<!-- big_horizontal -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-9706709751191532" data-ad-slot="2904953388" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0px;width:728px;height:90px;" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/saved_resource(4).html"></iframe></ins></ins></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<p>
You might also be interested in the following related tutorials: 
<a href="http://zetcode.com/python/sqlite/">Python SQLite tutorial</a>,
<a href="http://zetcode.com/python/psycopg2/">Python PostgreSQL tutorial</a>,
<a href="http://zetcode.com/python/pymongo/">PyMongo tutorial</a>,
<a href="http://zetcode.com/python/peewee/">Peewee tutorial</a>,
<a href="http://zetcode.com/python/pydal/">pyDAL tutorial</a>, and
<a href="http://zetcode.com/lang/python/">Python tutorial</a>,
or list <a href="http://zetcode.com/all/#python">Python tutorials</a>.
</p>

<footer>

<nav>
<a href="http://zetcode.com/">Home</a> 
<a href="http://zetcode.com/python/pymysql/#">Top of Page</a>
</nav>

<div class="signature">
<a href="http://zetcode.com/">ZetCode</a> last modified May 17, 2019  <span class="copyright">© 2007 - 2019 Jan Bodnar</span>
<span>Follow on <a href="https://www.facebook.com/zetcode7/">Facebook</a></span>
</div>

</footer>

</div> <!-- content -->

</div> <!-- container -->

<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/xd_arbiter.html" style="border: none;"></iframe></div><div></div></div></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



<iframe scrolling="no" frameborder="0" allowtransparency="true" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/widget_iframe.bb9f4b065c53172f0378057aff0cb3f7.html" title="Twitter settings iframe" style="display: none;"></iframe><iframe id="google_osd_static_frame_5015621873702" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/saved_resource(5).html"></iframe></body><iframe id="google_shimpl" style="display: none;" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/saved_resource(6).html"></iframe><iframe id="google_esf" name="google_esf" src="./PyMySQL tutorial - Python MySQL programming with PyMySQL module_files/zrt_lookup.html" data-ad-client="ca-pub-9706709751191532" style="display: none;"></iframe></html>